<h1 class="title" i18n>Questionnaires</h1>
<h2 class="subtitle" i18n>Subtitle</h2>
<div class="columns">
    <div class="column is-4">
        <p>Filter by:</p>
        <a class="button" [class.is-primary]="selectedOption === 'question'" (click)="changeOption('question')">Question</a>
        <a class="button" [class.is-primary]="selectedOption === 'dialect'" (click)="changeOption('dialect')">Dialect</a>
        <a class="button" [class.is-primary]="selectedOption === 'participant'" (click)="changeOption('participant')">Participant</a>

        <div class="control is-flex-grow-1">
            <p-multiSelect *ngIf="selectedOption=='question'" class="input" appendTo="body" [(ngModel)]="questionFilters" [options]="dropdownOptions.get(selectedOption)" display="chip" (ngModelChange)="filterChange($event)"></p-multiSelect>
            <p-multiSelect *ngIf="selectedOption=='dialect'" class="input" appendTo="body" [(ngModel)]="dialectFilters" [options]="dropdownOptions.get(selectedOption)" display="chip" (ngModelChange)="filterChange($event)"></p-multiSelect>
            <p-multiSelect *ngIf="selectedOption=='participant'" class="input" appendTo="body" [(ngModel)]="participantFilters" [options]="dropdownOptions.get(selectedOption)" display="chip" (ngModelChange)="filterChange($event)"></p-multiSelect>
        </div>
    </div>
    <div *ngIf="!isLoading" class="column">
        <p>Questions:</p>
        <ng-container *ngFor="let questionId of matchedQuestionIds">
            <mima-questionnaire-item [questions]="questions" [id]="questionId" [selectedFilters]="selectedFilters"></mima-questionnaire-item>
        </ng-container>
    </div>
</div>
