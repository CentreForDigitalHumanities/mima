<ng-container>
    <div class="content has-text-centered has-text-light" *ngIf="!matchedQuestion">
        <span class="icon is-large">
            <fa-icon [icon]="faCircleNotch" [spin]="true" size="4x"></fa-icon>
        </span>
    </div>
    <div class="box" *ngIf="matchedQuestion">
        <div class="questionheader">
            <h2 class="is-size-4 has-text-weight-semibold" [innerHTML]="matchedQuestion.prompt | highlight"></h2>
            <div class="exclude-filter">
                <a class="exclude-filter-button has-text-weight-bold has-text-grey"
                (click)="onExcludeFilter($event, 'question', questions.get(id).id)">-</a>
            </div>
        </div>
        <ng-container *ngFor="let dialect of selectedFilters.get('dialect').sort()">
            <div *ngIf="countAnswersShown(dialect)">
                <p-panel [toggleable]="true" toggler="header" [collapsed]="!(singleFilters.get('dialect') || singleFilters.get('participant'))" >
                <ng-template pTemplate="header">
                    <div class="panelheader">
                        <a class="has-text-weight-semibold is-size-6 is-italic my-2 has-text-dark filterclick"
                        [class.active]="singleFilters.get('dialect') === dialect"
                        (click)="onFilterSelected($event, 'dialect', dialect)">
                            {{ dialect + ' (' + countAnswersShown(dialect) + ')' }}
                        </a>
                        <div class="exclude-filter">
                            <a class="exclude-filter-button has-text-weight-bold has-text-grey"
                            (click)="onExcludeFilter($event, 'dialect', dialect)">-</a>
                        </div>
                    </div>
                </ng-template>
                <ng-container *ngFor="let answer of questions.get(id).answerMap.get(dialect)">
                    <div class="level" *ngIf="selectedFilters.get('participant').includes(answer.participantId)">
                        <p class="level-left">{{ answer.answer }}</p>
                        <div class="level-right">
                            <a class="exclude-filter has-text-grey has-text-weight-semibold"
                            (click)="onExcludeFilter($event, 'participant', answer.participantId)">-</a>
                            <a class="filterclick has-text-grey"
                            (click)="onFilterSelected($event, 'participant', answer.participantId)">{{ answer.participantId }}</a>
                        </div>
                    </div>
                </ng-container>
            </p-panel>
            </div>
        </ng-container>
    </div>
</ng-container>
